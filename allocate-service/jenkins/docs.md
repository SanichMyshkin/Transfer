–°–∫—Ä–∏–ø—Ç –≤—ã–ø–æ–ª–Ω—è–µ—Ç –ø–æ–ª–Ω—ã–π –∞—É–¥–∏—Ç –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã Jenkins, —Å–æ–±–∏—Ä–∞—è –¥–∞–Ω–Ω—ã–µ –Ω–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ Jenkins Script Console API –∏ —Å–æ–ø–æ—Å—Ç–∞–≤–ª—è—è –∏—Ö —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –∏–∑ Active Directory (LDAP).
–í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –¥–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π Excel-–æ—Ç—á—ë—Ç, –æ–±—ä–µ–¥–∏–Ω—è—é—â–∏–π —Å–≤–µ–¥–µ–Ω–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö Jenkins, –∑–∞–¥–∞–Ω–∏—è—Ö (jobs), –Ω–æ–¥–∞—Ö, —Å–≤—è–∑–∞–Ω–Ω—ã—Ö AD-–≥—Ä—É–ø–ø–∞—Ö –∏ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è—Ö —É—á—ë—Ç–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π Jenkins ‚Üî AD.

–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∫—Ä–∏–ø—Ç–∞ –º–æ–¥—É–ª—å–Ω–∞—è:

jenkins_groovy.py ‚Äî –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π –∫–ª–∏–µ–Ω—Ç –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è Groovy-—Å–∫—Ä–∏–ø—Ç–æ–≤ —á–µ—Ä–µ–∑ Jenkins API;

jenkins_scripts.py ‚Äî –Ω–∞–±–æ—Ä Groovy-—Å–∫—Ä–∏–ø—Ç–æ–≤ –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö (users, jobs, nodes, AD-–≥—Ä—É–ø–ø—ã);

main.py ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π —É–ø—Ä–∞–≤–ª—è—é—â–∏–π –º–æ–¥—É–ª—å, –æ–±—ä–µ–¥–∏–Ω—è—é—â–∏–π –ª–æ–≥–∏–∫—É —Å–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö, LDAP-–∑–∞–ø—Ä–æ—Å–æ–≤, —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –∏ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –æ—Ç—á—ë—Ç–∞.

1. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å Jenkins API
1.1. JenkinsGroovyClient

–°–≤—è–∑—å —Å Jenkins –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ HTTP POST-–∑–∞–ø—Ä–æ—Å—ã –∫ —ç–Ω–¥–ø–æ–∏–Ω—Ç—É:

POST /scriptText


–°–∫—Ä–∏–ø—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç—Å—è —Å –ø–æ–º–æ—â—å—é –ø–∞—Ä—ã –ª–æ–≥–∏–Ω + —Ç–æ–∫–µ–Ω.
–í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —á–µ—Ä–µ–∑ –∫–ª–∞—Å—Å JenkinsGroovyClient, –∫–æ—Ç–æ—Ä—ã–π:

—Ñ–æ—Ä–º–∏—Ä—É–µ—Ç —Ç–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º script;

–≤—ã–ø–æ–ª–Ω—è–µ—Ç POST-–∑–∞–ø—Ä–æ—Å;

–ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—Ç–∞—Ç—É—Å-–∫–æ–¥ –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏ (401, 403, 500);

–ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º –æ—Ç–≤–µ—Ç–µ –ø–∞—Ä—Å–∏—Ç JSON (—Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è Groovy-—Å–∫—Ä–∏–ø—Ç–∞ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ Jenkins).

–í —Å–ª—É—á–∞–µ HTML-–æ—Ç–≤–µ—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏ –Ω–µ–≤–µ—Ä–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏) –∫–ª–∏–µ–Ω—Ç –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ, –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞—è –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É.

2. –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –∏–∑ Jenkins
2.1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏

Groovy-—Å–∫—Ä–∏–ø—Ç (SCRIPT_USERS) –≤—ã–ø–æ–ª–Ω—è–µ—Ç –æ–±—Ä–∞—â–µ–Ω–∏–µ –∫ API Jenkins —á–µ—Ä–µ–∑ –∫–ª–∞—Å—Å hudson.model.User:

def users = User.getAll()
def email = u.getProperty(Mailer.UserProperty)?.address


–ö–∞–∂–¥—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç—Å—è –≤ JSON-–∑–∞–ø–∏—Å—å —Å –ø–æ–ª—è–º–∏:

id ‚Äî –ª–æ–≥–∏–Ω –∏–ª–∏ —Å–∏—Å—Ç–µ–º–Ω–æ–µ –∏–º—è;

fullName ‚Äî –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º–æ–µ –∏–º—è;

email ‚Äî –∞–¥—Ä–µ—Å —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–π –ø–æ—á—Ç—ã.

–ù–∞ —Å—Ç–æ—Ä–æ–Ω–µ Python —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ —Å–æ–±–∏—Ä–∞—é—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏–µ–π get_users(), –∫–æ—Ç–æ—Ä–∞—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É:

{
  "users": [...],
  "total": <—á–∏—Å–ª–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π>
}


–î–∞–ª–µ–µ —Å–ø–∏—Å–æ–∫ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Å AD –∏ –∑–∞–ø–∏—Å–∏ –Ω–∞ –ª–∏—Å—Ç Users –æ—Ç—á—ë—Ç–∞.

2.2. Jenkins Jobs

Groovy-—Å–∫—Ä–∏–ø—Ç SCRIPT_JOBS –æ–±—Ä–∞—â–∞–µ—Ç—Å—è –∫ Jenkins.instance.getAllItems(), —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∑–∞–¥–∞–Ω–∏—è (–≤–∫–ª—é—á–∞—è –ø–∞–ø–∫–∏ –∏ pipeline‚Äô—ã).
–î–ª—è –∫–∞–∂–¥–æ–≥–æ job —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è —Å–ª–æ–≤–∞—Ä—å:

name, url, type, description;

isBuildable, isFolder;

lastBuild, lastResult, lastBuildTime ‚Äî –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ—Å–ª–µ–¥–Ω–µ–º –∑–∞–ø—É—Å–∫–µ (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–∞).

–§—É–Ω–∫—Ü–∏—è get_jobs() –≤ Python –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Å–∫—Ä–∏–ø—Ç –∏ —Å–æ–±–∏—Ä–∞–µ—Ç —Å–≤–æ–¥–∫—É: –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–¥–∞–Ω–∏–π, –¥–∞–Ω–Ω—ã–µ –ø–æ –∫–∞–∂–¥–æ–º—É job –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–µ—Ö, —É –∫–æ—Ç–æ—Ä—ã—Ö –±—ã–ª–∏ —Å–±–æ—Ä–∫–∏.

2.3. Jenkins Nodes

–°–∫—Ä–∏–ø—Ç SCRIPT_NODES –æ–±—Ä–∞—â–∞–µ—Ç—Å—è –∫ Jenkins.instance.nodes –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∞–≥–µ–Ω—Ç–æ–≤ Jenkins.
–î–ª—è –∫–∞–∂–¥–æ–π –Ω–æ–¥—ã –∏–∑–≤–ª–µ–∫–∞—é—Ç—Å—è –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:

name ‚Äî –∏–º—è –∞–≥–µ–Ω—Ç–∞;

online ‚Äî —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è;

executors ‚Äî —á–∏—Å–ª–æ –ø–æ—Ç–æ–∫–æ–≤ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è;

labels ‚Äî –º–µ—Ç–∫–∏ –∞–≥–µ–Ω—Ç–∞;

mode ‚Äî —Ç–∏–ø —Ä–µ–∂–∏–º–∞ (NORMAL/EXCLUSIVE);

description ‚Äî –æ–ø–∏—Å–∞–Ω–∏–µ —É–∑–ª–∞.

–≠—Ç–∏ –¥–∞–Ω–Ω—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è —Ç–∞–±–ª–∏—Ü—ã Nodes –≤ –∏—Ç–æ–≥–æ–≤–æ–º Excel.

2.4. AD-–≥—Ä—É–ø–ø—ã –∏–∑ Jenkins

–°–∫—Ä–∏–ø—Ç SCRIPT_AD_GROUP (–æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–π –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ –æ—Å—Ç–∞–ª—å–Ω—ã–º, –Ω–µ –ø–æ–∫–∞–∑–∞–Ω –∑–¥–µ—Å—å) –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ Active Directory-–≥—Ä—É–ø–ø, –∫–æ—Ç–æ—Ä—ã–µ Jenkins –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–æ–º.
–§—É–Ω–∫—Ü–∏—è get_ad_groups() –≤—ã–ø–æ–ª–Ω—è–µ—Ç —ç—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –∏ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç —Å–ø–∏—Å–æ–∫ –∏–º—ë–Ω –≥—Ä—É–ø–ø –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ –ø–æ–∏—Å–∫–∞ –≤ LDAP.

3. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Active Directory (LDAP)
3.1. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ

–°—Ü–µ–Ω–∞—Ä–∏–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫—É ldap3 –∏ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É AD –ø–æ LDAPS (–ø–æ—Ä—Ç 636) —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ (CA_CERT).
–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —Å–æ–∑–¥–∞—ë—Ç—Å—è –æ–±—ä–µ–∫—Ç Connection, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã—Ö –ø–æ–∏—Å–∫–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

3.2. –ü–æ–∏—Å–∫ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –≥—Ä—É–ø–ø

–î–ª—è –∫–∞–∂–¥–æ–π –Ω–∞–π–¥–µ–Ω–Ω–æ–π Jenkins-–≥—Ä—É–ø–ø—ã –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è LDAP-–∑–∞–ø—Ä–æ—Å:

(&(objectClass=group)(|(cn=<group>)(sAMAccountName=<group>)(name=<group>)))


–ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è DN –≥—Ä—É–ø–ø—ã —Å—Ç—Ä–æ–∏—Ç—Å—è –≤—Ç–æ—Ä–æ–π –∑–∞–ø—Ä–æ—Å –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∞—Ç—Ä–∏–±—É—Ç–æ–≤ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤:

sAMAccountName,

displayName,

mail,

whenCreated,

distinguishedName.

–§—É–Ω–∫—Ü–∏—è get_users_from_ad_group() –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ª–æ–≤–∞—Ä—å:

{"group": "<–∏–º—è –≥—Ä—É–ø–ø—ã>", "members": [ {...}, ... ]}


–í —Å–ª—É—á–∞–µ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –≥—Ä—É–ø–ø—ã –∏–ª–∏ –ø—É—Å—Ç–æ–≥–æ —Å–æ—Å—Ç–∞–≤–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç—Å—è –≤ –ª–æ–≥–∞—Ö.

–í—Å–µ –≥—Ä—É–ø–ø—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ (fetch_ldap_group_members()), –∏ —Å–æ–±—Ä–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Ñ–æ—Ä–º–∏—Ä—É—é—Ç –º–∞—Å—Å–∏–≤ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –≤—Å—Ç—Ä–µ—á–∞—é—â–∏—Ö—Å—è –≤ AD-–≥—Ä—É–ø–ø–∞—Ö, —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å Jenkins.

4. –°–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π Jenkins ‚Üî AD

–ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è –æ–±–æ–∏—Ö –Ω–∞–±–æ—Ä–æ–≤ –¥–∞–Ω–Ω—ã—Ö –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∫—Ä–æ—Å—Å-–∞–Ω–∞–ª–∏–∑ (match_jenkins_to_ad()):

–î–ª—è –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏–∑ AD —Å–æ–∑–¥–∞—é—Ç—Å—è –¥–≤–∞ –∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å–ª–æ–≤–∞—Ä—è:

–ø–æ e-mail (ad_by_email);

–ø–æ –∏–º–µ–Ω–∏ (ad_by_user).

–ö–∞–∂–¥—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å Jenkins –∏—â–µ—Ç—Å—è –ø–æ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—é e-mail –∏–ª–∏ –∏–º–µ–Ω–∏ –≤ —ç—Ç–∏—Ö –∏–Ω–¥–µ–∫—Å–∞—Ö.

–ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω–æ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ ‚Äî –∫ Jenkins-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –ø–µ—Ä–µ—á–µ–Ω—å –≥—Ä—É–ø–ø AD, –≤ –∫–æ—Ç–æ—Ä—ã—Ö –æ–Ω —Å–æ—Å—Ç–æ–∏—Ç.

–ï—Å–ª–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ ‚Äî –≤ –ø–æ–ª–µ ad_groups –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è "NOT FOUND".

–†–µ–∑—É–ª—å—Ç–∞—Ç –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ –≤–∏–¥–µ —Å–ø–∏—Å–∫–∞ –æ–±—ä–µ–¥–∏–Ω—ë–Ω–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π –¥–ª—è —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü—ã User_AD_Match.

5. –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç—á—ë—Ç–∞

–î–∞–Ω–Ω—ã–µ –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –≤ —Ñ–∞–π–ª jenkins_inventory.xlsx —Å –ø–æ–º–æ—â—å—é –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ xlsxwriter.
–û—Ç—á—ë—Ç —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ª–∏—Å—Ç–æ–≤:

üìÑ Users

–°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π Jenkins, –≤–∫–ª—é—á–∞—è ID, –∏–º—è –∏ email.
–ü–æ–∑–≤–æ–ª—è–µ—Ç –±—ã—Å—Ç—Ä–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å, –∫—Ç–æ –∏–º–µ–µ—Ç —É—á—ë—Ç–∫—É –≤ Jenkins –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ª–∏ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–∞—è –ø–æ—á—Ç–∞.

‚öôÔ∏è Jobs

–ü–æ–ª–Ω—ã–π –ø–µ—Ä–µ—á–µ–Ω—å –≤—Å–µ—Ö –∑–∞–¥–∞–Ω–∏–π Jenkins.
–ü–æ–ª—è:

Name, Type, URL, Description, Is Buildable, Is Folder,

Last Build, Last Result, Last Build Time.
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–∞–π–ø–ª–∞–π–Ω–æ–≤ –∏ –∏—Ö –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏.

üß± JobsWithBuilds

–§–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è –ø—Ä–µ–¥—ã–¥—É—â–µ–π —Ç–∞–±–ª–∏—Ü—ã ‚Äî —Ç–æ–ª—å–∫–æ —Ç–µ –∑–∞–¥–∞–Ω–∏—è, —É –∫–æ—Ç–æ—Ä—ã—Ö –µ—Å—Ç—å —É—Å–ø–µ—à–Ω—ã–µ –∏–ª–∏ –∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–µ —Å–±–æ—Ä–∫–∏.
–ü–æ–¥—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∏–ª–¥–æ–≤ (total_builds).

üñ•Ô∏è Nodes

–í—Å–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∞–≥–µ–Ω—Ç—ã Jenkins, –≤–∫–ª—é—á–∞—è –∏—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–µ (online/offline), –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π, —è—Ä–ª—ã–∫–∏ –∏ —Ä–µ–∂–∏–º.
–ü–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ü–µ–Ω–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤.

üë• AD_Group_Members

–û–±—ä–µ–¥–∏–Ω—ë–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –≤–æ –≤—Å–µ—Ö AD-–≥—Ä—É–ø–ø–∞—Ö, —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å Jenkins.
–°–æ–¥–µ—Ä–∂–∏—Ç:

ad_group, user, displayName, mail, whenCreated, user_dn.
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è Jenkins-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–º –∑–∞–ø–∏—Å—è–º AD.

üîÑ User_AD_Match

–°–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π Jenkins –∏ Active Directory.
–ü–æ–ª—è:

jenkins_id, fullName, email, ad_groups.
–ó–¥–µ—Å—å –≤–∏–¥–Ω–æ, –∫—Ç–æ –∏–∑ Jenkins-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏–º–µ–µ—Ç —É—á—ë—Ç–∫—É –≤ AD, –∏ –∫–∞–∫–∏–µ –≥—Ä—É–ø–ø—ã –∫ –Ω–µ–π –ø—Ä–∏–≤—è–∑–∞–Ω—ã.

üìä Summary

–ò—Ç–æ–≥–æ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –ø–æ –≤—Å–µ–π —Å–∏—Å—Ç–µ–º–µ Jenkins:

–¥–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è –æ—Ç—á—ë—Ç–∞;

–æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –¥–∂–æ–±, –¥–∂–æ–± —Å –±–∏–ª–¥–∞–º–∏, –±–∏–ª–¥–æ–≤;

–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–æ–¥;

—á–∏—Å–ª–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏–∑ AD;

–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π Jenkins ‚Üî AD.
–°–ª—É–∂–∏—Ç —Å–≤–æ–¥–Ω—ã–º –¥–∞—à–±–æ—Ä–¥–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏—è Jenkins.

6. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ

–í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (–∑–∞–ø—Ä–æ—Å—ã –∫ Jenkins –∏ AD, –æ—à–∏–±–∫–∏, –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è) —Ñ–∏–∫—Å–∏—Ä—É—é—Ç—Å—è –≤ —Ñ–∞–π–ª–µ jenkins_inventory.log.
–ü—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ:

‚úÖ Excel –æ—Ç—á—ë—Ç —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω: jenkins_inventory.xlsx


–ò—Ç–æ–≥:
–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É–µ—Ç –∏–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü–∏—é Jenkins –∏ Active Directory, –∏–∑–≤–ª–µ–∫–∞—è –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ Groovy API –∏ LDAP.
–û–Ω –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–µ —Å–≤–µ–¥–µ–Ω–∏—è (–¥–∂–æ–±—ã, –Ω–æ–¥—ã, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏) —Å –¥–∞–Ω–Ω—ã–º–∏ AD, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—è —É–¥–æ–±–Ω—ã–π Excel-–æ—Ç—á—ë—Ç –¥–ª—è –∞—É–¥–∏—Ç–∞, –∞–Ω–∞–ª–∏–∑–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ Jenkins-–∏–Ω—Å—Ç–∞–Ω—Å–∞.